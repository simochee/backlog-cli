---
const base = import.meta.env.BASE_URL;
---

<!doctype html>
<html lang="ja">
	<head>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1" />
		<title>API Reference - Backlog CLI</title>
		<meta name="description" content="Backlog API v2 OpenAPI Reference" />
		<style>
			body {
				margin: 0;
				padding: 0;
			}

			#redoc-container {
				/* Starlight のナビゲーションバーの下に表示するためのヘッダー分のスペース */
			}

			.header {
				display: flex;
				align-items: center;
				justify-content: space-between;
				padding: 0.75rem 1.5rem;
				background: #18181b;
				color: #fff;
				font-family: system-ui, -apple-system, sans-serif;
				border-bottom: 1px solid #27272a;
			}

			.header a {
				color: #a1a1aa;
				text-decoration: none;
				font-size: 0.875rem;
			}

			.header a:hover {
				color: #fff;
			}

			.header-title {
				font-size: 1rem;
				font-weight: 600;
			}

			.header-nav {
				display: flex;
				gap: 1.5rem;
				align-items: center;
			}
		</style>
	</head>
	<body>
		<div class="header">
			<span class="header-title">Backlog CLI</span>
			<nav class="header-nav">
				<a href={`${base}/`}>ドキュメント</a>
				<a
					href="https://github.com/simochee/backlog-cli"
					target="_blank"
					rel="noopener noreferrer">GitHub</a
				>
			</nav>
		</div>
		<div id="redoc-container"></div>
		<script
			is:inline
			src="https://cdn.redoc.ly/redoc/latest/bundles/redoc.standalone.js"
		></script>
		<script is:inline define:vars={{ base }}>
			Redoc.init(
				`${base}/openapi.yaml`,
				{
					theme: {
						colors: {
							primary: { main: "#2563eb" },
						},
						typography: {
							fontFamily: "system-ui, -apple-system, sans-serif",
							headings: {
								fontFamily: "system-ui, -apple-system, sans-serif",
							},
						},
						sidebar: {
							backgroundColor: "#fafafa",
						},
					},
					hideDownloadButton: false,
					expandResponses: "200",
					pathInMiddlePanel: true,
					sortOperationsAlphabetically: false,
					sortTagsAlphabetically: false,
				},
				document.getElementById("redoc-container"),
			);
		</script>
	</body>
</html>
